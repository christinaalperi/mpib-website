{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/app/loginpage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import Announcement from'./Announcement';import{db}from\"../../base\";import{Background}from'./styles';// this list needs to be a listener of the changes Admin makes to the form\n// in order to do that i have to add a databasse collection for the announcements and then here render that database's current list sending the message to the Announcement components props \nimport{jsx as _jsx}from\"react/jsx-runtime\";var AnnouncementList=function AnnouncementList(){var _useState=useState([{}]),_useState2=_slicedToArray(_useState,2),announcements=_useState2[0],setAnnouncements=_useState2[1];var collection=db.collection(\"announcements\");useEffect(function(){collection.onSnapshot(function(snapshot){var data=[];snapshot.docs.map(function(doc){data.push({id:doc.id,title:doc.data().title,details:doc.data().details});});setAnnouncements(data);console.log(announcements);});},[]);function createCard(announcement){return/*#__PURE__*/_jsx(Announcement,{title:announcement.title,details:announcement.details});}return/*#__PURE__*/_jsx(Background,{children:announcements&&announcements.map(createCard)});};export default AnnouncementList;","map":{"version":3,"sources":["/Users/admin/Desktop/app/loginpage/src/components/AnnouncementsList/AnnouncementList.js"],"names":["React","useState","useEffect","useContext","Announcement","db","Background","AnnouncementList","announcements","setAnnouncements","collection","onSnapshot","snapshot","data","docs","map","doc","push","id","title","details","console","log","createCard","announcement"],"mappings":"wHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,OAAQC,UAAR,KAAyB,UAAzB,CAGA;AAEA;2CAGA,GAAMC,CAAAA,gBAAgB,CAAI,QAApBA,CAAAA,gBAAoB,EAAM,CAE/B,cAA0CN,QAAQ,CAAC,CAAC,EAAD,CAAD,CAAlD,wCAAOO,aAAP,eAAsBC,gBAAtB,eAEA,GAAMC,CAAAA,UAAU,CAAGL,EAAE,CAACK,UAAH,CAAc,eAAd,CAAnB,CAEAR,SAAS,CAAC,UAAM,CACdQ,UAAU,CAACC,UAAX,CAAsB,SAACC,QAAD,CAAc,CAClC,GAAMC,CAAAA,IAAI,CAAG,EAAb,CACAD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,CAAI,CACvBH,IAAI,CAACI,IAAL,CAAW,CACTC,EAAE,CAACF,GAAG,CAACE,EADE,CAETC,KAAK,CAACH,GAAG,CAACH,IAAJ,GAAWM,KAFR,CAGTC,OAAO,CAACJ,GAAG,CAACH,IAAJ,GAAWO,OAHV,CAAX,EAOD,CARD,EASAX,gBAAgB,CAACI,IAAD,CAAhB,CACAQ,OAAO,CAACC,GAAR,CAAYd,aAAZ,EACD,CAbD,EAcD,CAfQ,CAeN,EAfM,CAAT,CAkBA,QAASe,CAAAA,UAAT,CAAoBC,YAApB,CAAkC,CAChC,mBACI,KAAC,YAAD,EAAc,KAAK,CAAEA,YAAY,CAACL,KAAlC,CAAyC,OAAO,CAAEK,YAAY,CAACJ,OAA/D,EADJ,CAGD,CAED,mBACE,KAAC,UAAD,WACGZ,aAAa,EAAIA,aAAa,CAACO,GAAd,CAAkBQ,UAAlB,CADpB,EADF,CAKA,CAnCD,CAsCA,cAAehB,CAAAA,gBAAf","sourcesContent":["import React, { useState, useEffect, useContext} from 'react'\nimport Announcement from './Announcement'\nimport { db } from \"../../base\";\nimport {Background} from './styles'\n\n\n// this list needs to be a listener of the changes Admin makes to the form\n\n// in order to do that i have to add a databasse collection for the announcements and then here render that database's current list sending the message to the Announcement components props \n\n\nconst AnnouncementList =  () => {\n  \n const [announcements, setAnnouncements] = useState([{}]);\n\n const collection = db.collection(\"announcements\")\n\n useEffect(() => {\n   collection.onSnapshot((snapshot) => {\n     const data = []\n     snapshot.docs.map(doc => {\n       data.push( {\n         id:doc.id,\n         title:doc.data().title,\n         details:doc.data().details,\n       })\n       \n       \n     })\n     setAnnouncements(data)\n     console.log(announcements)\n   });\n }, []);\n\n\n function createCard(announcement) {\n   return (\n       <Announcement title={announcement.title} details={announcement.details}></Announcement>\n   );\n }\n   \n return (\n   <Background> \n     {announcements && announcements.map(createCard)}\n   </Background>\n )\n}\n\n\nexport default AnnouncementList"]},"metadata":{},"sourceType":"module"}
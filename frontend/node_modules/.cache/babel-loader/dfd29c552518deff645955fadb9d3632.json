{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/app/loginpage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{db}from'../../base';import{collection,addDoc,doc,updateDoc}from\"firebase/firestore\";import{Heading,Body,FormElements,CommitteeButton,CommitteeButtonDiv,SubmitButton,Background}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateCommitteeForm(){var _useState=useState([{}]),_useState2=_slicedToArray(_useState,2),committees=_useState2[0],setCommittees=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),committeeName=_useState4[0],setCommitteeName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),committeeContact=_useState6[0],setCommiteeContact=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),imgURL=_useState8[0],setimgURL=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),committeeRole=_useState10[0],setCommitteeRole=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),newContact=_useState12[0],setNewContact=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),newDesc=_useState14[0],setNewDesc=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),updateInProgress=_useState16[0],setUpdateInProgress=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),idToBeUpdated=_useState18[0],setIdToBeUpdated=_useState18[1];var committeeCollection=db.collection(\"committees\");useEffect(function(){committeeCollection.onSnapshot(function(snapshot){var committeeData=[];snapshot.docs.map(function(doc){committeeData.push({id:doc.id,name:doc.data().name,contact:doc.data().contact,role:doc.data().role});});setCommittees(committeeData);});},[]);var handleUpdateCommitteeClick=function handleUpdateCommitteeClick(e){e.preventDefault();setUpdateInProgress(true);// iterate through committees to find ID of the one clicked, matching to its name \nvar oldID='';committees.forEach(function(comm){if(comm.name==e.target.value){setIdToBeUpdated(comm.id);oldID=comm.id;}});//console.log(e.target.value) is committee name that was clicked \nvar childNode=document.createElement('div');var committeeToUpdate=document.createElement('h4');var text=document.createTextNode(e.target.value);committeeToUpdate.appendChild(text);childNode.appendChild(committeeToUpdate);var form=document.createElement('form');var descInput=document.createElement('input');descInput.addEventListener(\"change\",function(e){setNewDesc(e.target.value);});var descLabel=document.createTextNode('Description: ');var contactInput=document.createElement('input');contactInput.addEventListener(\"change\",function(e){setNewContact(e.target.value);});var contactLabel=document.createTextNode('Contact: ');var submitButton=document.createElement('button');submitButton.textContent='Submit';submitButton.addEventListener(\"click\",function(e){e.preventDefault();console.log(newContact);//updateDoc(doc(db,\"committees\",oldID),)\n});form.appendChild(contactLabel);form.appendChild(contactInput);form.appendChild(document.createElement('br'));form.appendChild(descLabel);form.appendChild(descInput);form.appendChild(document.createElement('br'));form.appendChild(submitButton);childNode.appendChild(form);document.getElementById('committeeBody').appendChild(childNode);};return/*#__PURE__*/_jsxs(Body,{children:[/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Add Committee \"}),/*#__PURE__*/_jsxs(FormElements,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name: \",/*#__PURE__*/_jsx(\"input\",{id:\"addCommitteeName\",type:\"text\",value:committeeName,onChange:function onChange(e){setCommitteeName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Contact: \",/*#__PURE__*/_jsx(\"input\",{id:\"addCommitteeContact\",type:\"text\",value:committeeContact,onChange:function onChange(e){setCommiteeContact(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Role: \",/*#__PURE__*/_jsx(\"input\",{id:\"addCommitteeRole\",type:\"text\",value:committeeRole,onChange:function onChange(e){setCommitteeRole(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Img: \",/*#__PURE__*/_jsx(\"input\",{type:\"file\",value:imgURL,onChange:function onChange(e){return setimgURL(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",value:\"Submit\",onClick:function onClick(e){e.preventDefault();console.log('here');if(committeeContact!=''&&committeeName!=''&&committeeRole!=''){addDoc(collection(db,\"committees\"),{contact:committeeContact,imgURL:imgURL,name:committeeName,role:committeeRole});}document.getElementById('addCommitteeName').value='';document.getElementById('addCommitteeContact').value='';document.getElementById('addCommitteeRole').value='';},children:\"Submit\"})]})]}),/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Update Committee Information\"}),/*#__PURE__*/_jsx(CommitteeButtonDiv,{id:\"committeeBody\",children:committees.map(function(item,index){return/*#__PURE__*/_jsx(CommitteeButton,{onClick:handleUpdateCommitteeClick,value:item.name,disabled:updateInProgress,children:item.name});})})]})]});}export default UpdateCommitteeForm;","map":{"version":3,"sources":["/Users/admin/Desktop/app/loginpage/src/components/UpdateForm/UpdateCommitteeForm.js"],"names":["React","useState","useEffect","db","collection","addDoc","doc","updateDoc","Heading","Body","FormElements","CommitteeButton","CommitteeButtonDiv","SubmitButton","Background","UpdateCommitteeForm","committees","setCommittees","committeeName","setCommitteeName","committeeContact","setCommiteeContact","imgURL","setimgURL","committeeRole","setCommitteeRole","newContact","setNewContact","newDesc","setNewDesc","updateInProgress","setUpdateInProgress","idToBeUpdated","setIdToBeUpdated","committeeCollection","onSnapshot","snapshot","committeeData","docs","map","push","id","name","data","contact","role","handleUpdateCommitteeClick","e","preventDefault","oldID","forEach","comm","target","value","childNode","document","createElement","committeeToUpdate","text","createTextNode","appendChild","form","descInput","addEventListener","descLabel","contactInput","contactLabel","submitButton","textContent","console","log","getElementById","files","item","index"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { db } from '../../base';\nimport { collection, addDoc, doc, updateDoc } from \"firebase/firestore\"; \nimport { Heading, Body, FormElements, CommitteeButton, CommitteeButtonDiv, SubmitButton, Background } from './styles'\n\n\nfunction UpdateCommitteeForm() {\n    const [committees, setCommittees] = useState([{}])\n    const [committeeName, setCommitteeName] = useState('');\n    const [committeeContact, setCommiteeContact] = useState('');\n    const [imgURL, setimgURL] = useState(null);\n    const [committeeRole, setCommitteeRole] = useState('');\n    const [newContact, setNewContact] = useState('');\n    const [newDesc, setNewDesc] = useState('');\n    const [updateInProgress, setUpdateInProgress] = useState(false);\n    const [idToBeUpdated, setIdToBeUpdated] = useState('');\n\n\n    const committeeCollection = db.collection(\"committees\");\n\n   \n  useEffect(()=>{\n    committeeCollection.onSnapshot((snapshot)=>{\n      const committeeData = [];\n      snapshot.docs.map((doc)=>{\n        committeeData.push({\n          id: doc.id,\n          name: doc.data().name,\n          contact: doc.data().contact,\n          role: doc.data().role\n        })\n      })\n      setCommittees(committeeData)\n    })\n  },[])\n\n \n  const handleUpdateCommitteeClick = (e) => {\n    e.preventDefault();\n    setUpdateInProgress(true);\n    // iterate through committees to find ID of the one clicked, matching to its name \n    var oldID = ''\n    committees.forEach((comm)=>{\n      if(comm.name==e.target.value){\n        setIdToBeUpdated(comm.id);\n        oldID=comm.id;\n      }\n    });\n    //console.log(e.target.value) is committee name that was clicked \n    var childNode = document.createElement('div');\n    var committeeToUpdate = document.createElement('h4');\n    var text = document.createTextNode(e.target.value);\n\n    committeeToUpdate.appendChild(text);\n    childNode.appendChild(committeeToUpdate);\n   \n    var form = document.createElement('form');\n    var descInput = document.createElement('input');\n    descInput.addEventListener(\"change\", (e)=>{\n      setNewDesc(e.target.value)\n    })\n    var descLabel = document.createTextNode('Description: ');\n    var contactInput = document.createElement('input');\n    contactInput.addEventListener(\"change\", (e)=>{\n      setNewContact(e.target.value)\n    })\n    var contactLabel = document.createTextNode('Contact: ');\n    var submitButton = document.createElement('button');\n    submitButton.textContent='Submit';\n    submitButton.addEventListener(\"click\", (e)=>{\n      e.preventDefault();\n      console.log(newContact)\n      //updateDoc(doc(db,\"committees\",oldID),)\n    });\n\n    form.appendChild(contactLabel);\n    form.appendChild(contactInput);\n    form.appendChild(document.createElement('br'));\n    form.appendChild(descLabel);\n    form.appendChild(descInput);\n    form.appendChild(document.createElement('br'));\n    form.appendChild(submitButton);\n\n    childNode.appendChild(form);\n    document.getElementById('committeeBody').appendChild(childNode)\n\n    \n\n  }\n  return (\n    \n      <Body>\n        <Background>\n        <Heading>Add Committee </Heading>\n          \n          <FormElements>\n            <label>\n              Name: <input id=\"addCommitteeName\" type='text' value={committeeName} onChange={(e)=>{\n                setCommitteeName(e.target.value);\n                \n                \n                }}/>\n            </label>\n            <label>\n              Contact: <input id='addCommitteeContact' type='text' value={committeeContact} onChange={(e)=>{\n                setCommiteeContact(e.target.value);\n                \n                }}/>\n            </label>\n            <label>\n              Role: <input id = 'addCommitteeRole' type='text' value={committeeRole} onChange={(e)=>{\n                setCommitteeRole(e.target.value);\n                \n                }}/>\n            </label>\n            <label>\n              Img: <input type='file' value={imgURL} onChange={(e)=>setimgURL(e.target.files[0])}/>\n            </label>\n            <SubmitButton type=\"submit\" value=\"Submit\" onClick={(e) => {\n                e.preventDefault();\n                console.log('here')\n                if((committeeContact!='')&&(committeeName!='')&&(committeeRole!='')){\n                  addDoc(collection(db, \"committees\"), {\n                    contact: committeeContact,\n                    imgURL: imgURL,\n                    name: committeeName,\n                    role: committeeRole\n                  });\n                }\n                document.getElementById('addCommitteeName').value = '';\n                document.getElementById('addCommitteeContact').value = '';\n                document.getElementById('addCommitteeRole').value='';\n              }}>Submit</SubmitButton>\n          </FormElements>\n        </Background>\n          \n          \n  \n              <Background>\n\n              <Heading>Update Committee Information</Heading>\n            <CommitteeButtonDiv id='committeeBody'>\n            {committees.map((item, index)=>{\n        \n              return(                 \n                  <CommitteeButton onClick={handleUpdateCommitteeClick} value={item.name} disabled={updateInProgress}>{item.name}</CommitteeButton>\n              )\n            })}\n            </CommitteeButtonDiv>\n              </Background>\n           \n           \n            \n      </Body>\n    )\n  \n}\n\nexport default UpdateCommitteeForm"]},"metadata":{},"sourceType":"module"}
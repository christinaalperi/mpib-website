{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/mpib-website/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import*as ReactDOM from'react-dom';import{db}from'../../base';import PageHeader from'../PageHeader/PageHeader';import Navbar from'../Navbar/Navbar';import{collection,addDoc,doc,updateDoc,deleteDoc}from\"firebase/firestore\";import{Heading,Body,FormElements,CommitteeButton,CommitteeButtonDiv,SubmitButton,Background,Centering}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateCommitteeForm(){var _useState=useState([{}]),_useState2=_slicedToArray(_useState,2),committees=_useState2[0],setCommittees=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),committeeName=_useState4[0],setCommitteeName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),committeeContact=_useState6[0],setCommiteeContact=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),imgURL=_useState8[0],setimgURL=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),committeeRole=_useState10[0],setCommitteeRole=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),newContact=_useState12[0],setNewContact=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),newDesc=_useState14[0],setNewDesc=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),updateInProgress=_useState16[0],setUpdateInProgress=_useState16[1];var committeeCollection=db.collection(\"committees\");useEffect(function(){committeeCollection.onSnapshot(function(snapshot){var committeeData=[];snapshot.docs.map(function(doc){committeeData.push({id:doc.id,name:doc.data().name,contact:doc.data().contact,role:doc.data().role});});setCommittees(committeeData);});},[committees]);var handleDeleteCommitteeClick=function handleDeleteCommitteeClick(e){e.preventDefault();deleteDoc(doc(db,\"committees\",e.target.value));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageHeader,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Body,{children:/*#__PURE__*/_jsxs(Centering,{children:[\" \",/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Add Committee \"}),/*#__PURE__*/_jsxs(FormElements,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name: \",/*#__PURE__*/_jsx(\"input\",{id:\"addCommitteeName\",type:\"text\",value:committeeName,onChange:function onChange(e){setCommitteeName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Contact: \",/*#__PURE__*/_jsx(\"input\",{id:\"addCommitteeContact\",type:\"text\",value:committeeContact,onChange:function onChange(e){setCommiteeContact(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Role: \",/*#__PURE__*/_jsx(\"input\",{id:\"addCommitteeRole\",type:\"text\",value:committeeRole,onChange:function onChange(e){setCommitteeRole(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Img: \",/*#__PURE__*/_jsx(\"input\",{type:\"file\",value:imgURL,onChange:function onChange(e){return setimgURL(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",value:\"Submit\",onClick:function onClick(e){e.preventDefault();if(committeeContact!=''&&committeeName!=''&&committeeRole!=''){addDoc(collection(db,\"committees\"),{contact:committeeContact,imgURL:imgURL,name:committeeName,role:committeeRole});}document.getElementById('addCommitteeName').value='';document.getElementById('addCommitteeContact').value='';document.getElementById('addCommitteeRole').value='';},children:\"Submit\"})]})]}),/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Delete Committee\"}),/*#__PURE__*/_jsx(CommitteeButtonDiv,{id:\"deleteCommitteButtons\",children:committees.map(function(item,index){return/*#__PURE__*/_jsx(CommitteeButton,{onClick:handleDeleteCommitteeClick,value:item.id,children:item.name});})})]})]})})]});}export default UpdateCommitteeForm;","map":{"version":3,"sources":["/Users/admin/Desktop/mpib-website/frontend/src/components/UpdateForm/UpdateCommitteeForm.js"],"names":["React","useState","useEffect","ReactDOM","db","PageHeader","Navbar","collection","addDoc","doc","updateDoc","deleteDoc","Heading","Body","FormElements","CommitteeButton","CommitteeButtonDiv","SubmitButton","Background","Centering","UpdateCommitteeForm","committees","setCommittees","committeeName","setCommitteeName","committeeContact","setCommiteeContact","imgURL","setimgURL","committeeRole","setCommitteeRole","newContact","setNewContact","newDesc","setNewDesc","updateInProgress","setUpdateInProgress","committeeCollection","onSnapshot","snapshot","committeeData","docs","map","push","id","name","data","contact","role","handleDeleteCommitteeClick","e","preventDefault","target","value","files","document","getElementById","item","index"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport * as ReactDOM from 'react-dom';\nimport { db } from '../../base';\nimport PageHeader from '../PageHeader/PageHeader';\nimport Navbar from '../Navbar/Navbar';\nimport { collection, addDoc, doc, updateDoc, deleteDoc } from \"firebase/firestore\"; \nimport { Heading, Body, FormElements, CommitteeButton, CommitteeButtonDiv, SubmitButton, Background, Centering } from './styles'\n\n\nfunction UpdateCommitteeForm() {\n    const [committees, setCommittees] = useState([{}])\n    const [committeeName, setCommitteeName] = useState('');\n    const [committeeContact, setCommiteeContact] = useState('');\n    const [imgURL, setimgURL] = useState(null);\n    const [committeeRole, setCommitteeRole] = useState('');\n    const [newContact, setNewContact] = useState('');\n    const [newDesc, setNewDesc] = useState('');\n    const [updateInProgress, setUpdateInProgress] = useState(false);\n    \n    const committeeCollection = db.collection(\"committees\");\n\n   \n  useEffect(()=>{\n    committeeCollection.onSnapshot((snapshot)=>{\n      const committeeData = [];\n      snapshot.docs.map((doc)=>{\n        committeeData.push({\n          id: doc.id,\n          name: doc.data().name,\n          contact: doc.data().contact,\n          role: doc.data().role\n        })\n      })\n      setCommittees(committeeData)\n      \n\n    })\n  }, [committees])\n\n \n\n  const handleDeleteCommitteeClick = (e) => {\n    e.preventDefault();\n    deleteDoc(doc(db,\"committees\",e.target.value))\n  }\n\n\n  return (\n    <div>\n<PageHeader/>\n        <Navbar/>\n      <Body>\n        \n       <Centering> <Background>\n         \n        <Heading>Add Committee </Heading>\n          \n          <FormElements>\n            <label>\n              Name: <input id=\"addCommitteeName\" type='text' value={committeeName} onChange={(e)=>{\n                setCommitteeName(e.target.value);\n                \n                \n                }}/>\n            </label>\n            <label>\n              Contact: <input id='addCommitteeContact' type='text' value={committeeContact} onChange={(e)=>{\n                setCommiteeContact(e.target.value);\n                \n                }}/>\n            </label>\n            <label>\n              Role: <input id = 'addCommitteeRole' type='text' value={committeeRole} onChange={(e)=>{\n                setCommitteeRole(e.target.value);\n                \n                }}/>\n            </label>\n            <label>\n              Img: <input type='file' value={imgURL} onChange={(e)=>setimgURL(e.target.files[0])}/>\n            </label>\n            <SubmitButton type=\"submit\" value=\"Submit\" onClick={(e) => {\n                e.preventDefault();\n                \n                if((committeeContact!='')&&(committeeName!='')&&(committeeRole!='')){\n                  addDoc(collection(db, \"committees\"), {\n                    contact: committeeContact,\n                    imgURL: imgURL,\n                    name: committeeName,\n                    role: committeeRole\n                  });\n                }\n                document.getElementById('addCommitteeName').value = '';\n                document.getElementById('addCommitteeContact').value = '';\n                document.getElementById('addCommitteeRole').value='';\n              }}>Submit</SubmitButton>\n          </FormElements>\n        </Background>\n          \n        \n              \n              <Background>\n\n                <Heading>Delete Committee</Heading>\n                <CommitteeButtonDiv id=\"deleteCommitteButtons\">\n                  {committees.map((item, index)=>{\n                    return(<CommitteeButton onClick={handleDeleteCommitteeClick} value={item.id}>{item.name}</CommitteeButton>)\n                  })}\n                </CommitteeButtonDiv>\n                </Background>\n              </Centering>\n           \n           \n           \n      </Body>\n    </div>\n    \n    )\n  \n}\n\nexport default UpdateCommitteeForm"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/loginpage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{db}from'../../base';import{collection,addDoc,doc,updateDoc}from\"firebase/firestore\";import{Heading,Body,FormElements,CommitteeButton,CommitteeButtonDiv,SubmitButton,Background}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateCommitteeForm(){var _useState=useState([{}]),_useState2=_slicedToArray(_useState,2),committees=_useState2[0],setCommittees=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),committeeToUpdate=_useState4[0],setCommitteeToUpdate=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),committeeName=_useState6[0],setCommitteeName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),committeeContact=_useState8[0],setCommiteeContact=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),imgURL=_useState10[0],setimgURL=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),committeeRole=_useState12[0],setCommitteeRole=_useState12[1];var committeeCollection=db.collection(\"committees\");useEffect(function(){committeeCollection.onSnapshot(function(snapshot){var committeeData=[];snapshot.docs.map(function(doc){committeeData.push({id:doc.id,name:doc.data().name,contact:doc.data().contact,role:doc.data().role});});setCommittees(committeeData);});},[]);var handleUpdateCommitteeClick=function handleUpdateCommitteeClick(e){e.preventDefault();// create a form for updating\nvar updateId='';committees.forEach(function(comm){if(comm.name==e.target.value){// need to find a way to update this entry of the database \n}});};return/*#__PURE__*/_jsxs(Body,{children:[/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Add Committee \"}),/*#__PURE__*/_jsxs(FormElements,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name: \",/*#__PURE__*/_jsx(\"input\",{id:\"addCommitteeName\",type:\"text\",value:committeeName,onChange:function onChange(e){setCommitteeName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Contact: \",/*#__PURE__*/_jsx(\"input\",{id:\"addCommitteeContact\",type:\"text\",value:committeeContact,onChange:function onChange(e){setCommiteeContact(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Role: \",/*#__PURE__*/_jsx(\"input\",{id:\"addCommitteeRole\",type:\"text\",value:committeeRole,onChange:function onChange(e){setCommitteeRole(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Img: \",/*#__PURE__*/_jsx(\"input\",{type:\"file\",value:imgURL,onChange:function onChange(e){return setimgURL(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",value:\"Submit\",onClick:function onClick(e){e.preventDefault();console.log('here');if(committeeContact!=''&&committeeName!=''&&committeeRole!=''){addDoc(collection(db,\"committees\"),{contact:committeeContact,imgURL:imgURL,name:committeeName,role:committeeRole});}document.getElementById('addCommitteeName').value='';document.getElementById('addCommitteeContact').value='';document.getElementById('addCommitteeRole').value='';},children:\"Submit\"})]})]}),/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Update Committee Information\"}),/*#__PURE__*/_jsx(CommitteeButtonDiv,{children:committees.map(function(item,index){return/*#__PURE__*/_jsx(CommitteeButton,{onClick:handleUpdateCommitteeClick,value:item.name,children:item.name});})})]})]});}export default UpdateCommitteeForm;","map":{"version":3,"sources":["/Users/admin/Desktop/loginpage/src/components/UpdateForm/UpdateCommitteeForm.js"],"names":["React","useState","useEffect","db","collection","addDoc","doc","updateDoc","Heading","Body","FormElements","CommitteeButton","CommitteeButtonDiv","SubmitButton","Background","UpdateCommitteeForm","committees","setCommittees","committeeToUpdate","setCommitteeToUpdate","committeeName","setCommitteeName","committeeContact","setCommiteeContact","imgURL","setimgURL","committeeRole","setCommitteeRole","committeeCollection","onSnapshot","snapshot","committeeData","docs","map","push","id","name","data","contact","role","handleUpdateCommitteeClick","e","preventDefault","updateId","forEach","comm","target","value","files","console","log","document","getElementById","item","index"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { db } from '../../base';\nimport { collection, addDoc, doc, updateDoc } from \"firebase/firestore\"; \nimport { Heading, Body, FormElements, CommitteeButton, CommitteeButtonDiv, SubmitButton, Background } from './styles'\n\n\nfunction UpdateCommitteeForm() {\n    const [committees, setCommittees] = useState([{}])\n    const [committeeToUpdate, setCommitteeToUpdate] = useState('')\n    const [committeeName, setCommitteeName] = useState('');\n    const [committeeContact, setCommiteeContact] = useState('');\n    const [imgURL, setimgURL] = useState(null);\n    const [committeeRole, setCommitteeRole] = useState('');\n\n\n    const committeeCollection = db.collection(\"committees\");\n    \n  useEffect(()=>{\n    committeeCollection.onSnapshot((snapshot)=>{\n      const committeeData = [];\n      snapshot.docs.map((doc)=>{\n        committeeData.push({\n          id: doc.id,\n          name: doc.data().name,\n          contact: doc.data().contact,\n          role: doc.data().role\n        })\n      })\n      setCommittees(committeeData)\n    })\n  },[])\n\n\n  const handleUpdateCommitteeClick = (e) => {\n    e.preventDefault();\n    \n    // create a form for updating\n    var updateId=''\n    committees.forEach((comm)=>{\n      if(comm.name==e.target.value){\n        \n        // need to find a way to update this entry of the database \n      }\n    })\n    \n\n  }\n  return (\n    \n      <Body>\n        <Background>\n        <Heading>Add Committee </Heading>\n          \n          <FormElements>\n            <label>\n              Name: <input id=\"addCommitteeName\" type='text' value={committeeName} onChange={(e)=>{\n                setCommitteeName(e.target.value);\n                \n                \n                }}/>\n            </label>\n            <label>\n              Contact: <input id='addCommitteeContact' type='text' value={committeeContact} onChange={(e)=>{\n                setCommiteeContact(e.target.value);\n                \n                }}/>\n            </label>\n            <label>\n              Role: <input id = 'addCommitteeRole' type='text' value={committeeRole} onChange={(e)=>{\n                setCommitteeRole(e.target.value);\n                \n                }}/>\n            </label>\n            <label>\n              Img: <input type='file' value={imgURL} onChange={(e)=>setimgURL(e.target.files[0])}/>\n            </label>\n            <SubmitButton type=\"submit\" value=\"Submit\" onClick={(e) => {\n                e.preventDefault();\n                console.log('here')\n                if((committeeContact!='')&&(committeeName!='')&&(committeeRole!='')){\n                  addDoc(collection(db, \"committees\"), {\n                    contact: committeeContact,\n                    imgURL: imgURL,\n                    name: committeeName,\n                    role: committeeRole\n                  });\n                }\n                document.getElementById('addCommitteeName').value = '';\n                document.getElementById('addCommitteeContact').value = '';\n                document.getElementById('addCommitteeRole').value='';\n              }}>Submit</SubmitButton>\n          </FormElements>\n        </Background>\n          \n          \n  \n              <Background>\n\n              <Heading>Update Committee Information</Heading>\n            <CommitteeButtonDiv>\n            {committees.map((item, index)=>{\n        \n              return(                 \n                  <CommitteeButton onClick={handleUpdateCommitteeClick} value={item.name}>{item.name}</CommitteeButton>\n              )\n            })}\n            </CommitteeButtonDiv>\n              </Background>\n           \n           \n            \n      </Body>\n    )\n  \n}\n\nexport default UpdateCommitteeForm"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/app/loginpage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{db}from'../../base';import{collection,addDoc,deleteDoc,doc}from\"firebase/firestore\";import{Heading,Body,FormElements,SubmitButton,Background}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateAnnouncementForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),details=_useState4[0],setDetails=_useState4[1];var _useState5=useState([{}]),_useState6=_slicedToArray(_useState5,2),announcements=_useState6[0],setAnnouncements=_useState6[1];var announcementsCollection=db.collection(\"announcements\");var handleOnSubmit=function handleOnSubmit(e){e.preventDefault();announcements.forEach(function(el){if(document.getElementById(el.title).checked==true){console.log(el.id);deleteDoc(doc(db,\"announcements\",el.id));}});};useEffect(function(){announcementsCollection.onSnapshot(function(snapshot){var announcementsData=[];snapshot.docs.map(function(doc){announcementsData.push({id:doc.id,title:doc.data().title,details:doc.data().details});});setAnnouncements(announcementsData);});},[]);return/*#__PURE__*/_jsxs(Body,{children:[/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Add Announcement\"}),/*#__PURE__*/_jsxs(FormElements,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Title: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Details: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:details,onChange:function onChange(e){return setDetails(e.target.value);}})]}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",value:\"Submit\",onClick:function onClick(e){e.preventDefault();if(title!=''&&details!=''){addDoc(collection(db,'announcements'),{title:title,details:details});}},children:\"Submit\"})]})]}),/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Delete Announcement(s)\"}),/*#__PURE__*/_jsx(\"ul\",{style:{'listStyle':'none'},children:announcements.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{id:item.title,type:\"checkbox\",name:item.title,value:item.title}),item.title]})},index);})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return handleOnSubmit(e);},children:\"Submit\"})]})]});}export default UpdateAnnouncementForm;","map":{"version":3,"sources":["/Users/admin/Desktop/app/loginpage/src/components/UpdateForm/UpdateAnnouncementForm.js"],"names":["React","useState","useEffect","db","collection","addDoc","deleteDoc","doc","Heading","Body","FormElements","SubmitButton","Background","UpdateAnnouncementForm","title","setTitle","details","setDetails","announcements","setAnnouncements","announcementsCollection","handleOnSubmit","e","preventDefault","forEach","el","document","getElementById","checked","console","log","id","onSnapshot","snapshot","announcementsData","docs","map","push","data","target","value","item","index"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { db } from '../../base';\nimport { collection, addDoc, deleteDoc, doc } from \"firebase/firestore\"; \nimport { Heading, Body, FormElements, SubmitButton, Background } from './styles'\n\nfunction UpdateAnnouncementForm() {\n    const [title, setTitle] = useState('')\n    const [details, setDetails] = useState('')\n    const [announcements, setAnnouncements] = useState([{}]);\n\n    const announcementsCollection = db.collection(\"announcements\");\n    const handleOnSubmit = (e) => {\n      e.preventDefault();\n  \n      announcements.forEach((el)=>{\n        if(document.getElementById(el.title).checked==true){\n          console.log(el.id);\n          deleteDoc(doc(db,\"announcements\",el.id));\n        }\n        \n      })\n    }\n    useEffect(()=>{\n      announcementsCollection.onSnapshot((snapshot)=>{\n        const announcementsData = [];\n        snapshot.docs.map((doc)=>{\n          announcementsData.push({\n            id: doc.id,\n            title: doc.data().title,\n            details: doc.data().details\n          })\n        })\n        setAnnouncements(announcementsData);\n      })\n    },[])\n\n\n    \n  return (\n    <Body>\n      <Background>\n      <Heading>Add Announcement</Heading>\n        <FormElements>\n       \n            <label>\n                Title: <input type='text' value={title} onChange={(e)=>setTitle(e.target.value)}/>\n            </label>\n            <label>\n                Details: <input type='text' value={details} onChange={(e)=>setDetails(e.target.value)}/>\n            </label>\n            <SubmitButton type='submit' value=\"Submit\" onClick={(e)=>{\n                e.preventDefault();\n               if((title!='')&&(details!='')){\n                addDoc(collection(db, 'announcements'), {\n                    title: title, \n                    details: details\n                })\n               }\n            }}>Submit</SubmitButton>\n        \n          </FormElements>\n      </Background>\n\n      <Background>\n        <Heading>Delete Announcement(s)</Heading>\n        <ul style={{'listStyle':'none'}}>\n      {announcements.map((item, index)=>{\n        \n          return(\n            <li key={index}>\n              \n              <label><input id={item.title} type=\"checkbox\" name={item.title} value={item.title}/>{item.title}</label>\n            </li>\n\n          )\n        })}\n      </ul>\n        <button onClick={(e)=>handleOnSubmit(e)}>Submit</button>\n     \n      </Background>\n        \n        \n\n    </Body>\n  )\n}\n\nexport default UpdateAnnouncementForm"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/loginpage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{db}from'../../base';import{doc,collection,addDoc,deleteDoc}from\"firebase/firestore\";import{Heading,Body,FormElements,DeleteContactsDiv,SubmitButton,Background}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateContactForm(){var _useState=useState([{}]),_useState2=_slicedToArray(_useState,2),contacts=_useState2[0],setContacts=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),fullname=_useState4[0],setFullname=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),role=_useState8[0],setRole=_useState8[1];var contactsCollection=db.collection(\"contacts\");useEffect(function(){contactsCollection.onSnapshot(function(snapshot){var contactsData=[];snapshot.docs.map(function(doc){contactsData.push({id:doc.id,Name:doc.data().Name,Email:doc.data().Email,Role:doc.data().Role});});setContacts(contactsData);});},[]);var handleOnSubmit=function handleOnSubmit(e){e.preventDefault();// iterate through the checkedState array and looked for the checked indices and then get the id of those items and then deleteDoc\ncontacts.forEach(function(el){if(document.getElementById(el.Name).checked==true){console.log(el.id);deleteDoc(doc(db,\"contacts\",el.id));}});// checkedState.forEach((state,index)=>{\n//   console.log(state)\n//   if(state==true){\n//     const contactIDToBeDeleted = contacts[index].id;\n//     deleteDoc(doc(db,\"contacts\",contactIDToBeDeleted));\n//   }\n// })\n};return/*#__PURE__*/_jsxs(Body,{children:[/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Add Contact \"}),/*#__PURE__*/_jsxs(FormElements,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:fullname,onChange:function onChange(e){setFullname(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Role: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:role,onChange:function onChange(e){return setRole(e.target.value);}})]}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",value:\"Submit\",onClick:function onClick(e){e.preventDefault();if(fullname!=''&&email!=''&&role!=''){addDoc(collection(db,\"contacts\"),{Name:fullname,Email:email,Role:role});}},children:\"Submit\"})]})]}),/*#__PURE__*/_jsxs(Background,{children:[/*#__PURE__*/_jsx(Heading,{children:\"Delete Contact(s)\"}),/*#__PURE__*/_jsxs(DeleteContactsDiv,{children:[/*#__PURE__*/_jsx(\"ul\",{style:{'listStyle':'none'},children:contacts.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{id:item.Name,type:\"checkbox\",name:item.Name,value:item.Name}),item.Name]})},index);})}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",value:\"Submit\",onClick:function onClick(e){return handleOnSubmit(e);},children:\"Submit\"})]})]})]});}export default UpdateContactForm;","map":{"version":3,"sources":["/Users/admin/Desktop/loginpage/src/components/UpdateForm/UpdateContactForm.js"],"names":["React","useState","useEffect","db","doc","collection","addDoc","deleteDoc","Heading","Body","FormElements","DeleteContactsDiv","SubmitButton","Background","UpdateContactForm","contacts","setContacts","fullname","setFullname","email","setEmail","role","setRole","contactsCollection","onSnapshot","snapshot","contactsData","docs","map","push","id","Name","data","Email","Role","handleOnSubmit","e","preventDefault","forEach","el","document","getElementById","checked","console","log","target","value","item","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { db } from '../../base';\nimport { doc, collection, addDoc, deleteDoc } from \"firebase/firestore\"; \nimport {Heading, Body, FormElements, DeleteContactsDiv, SubmitButton, Background} from './styles'\nfunction UpdateContactForm() {\n\n  const [contacts, setContacts] = useState([{}])\n  const [fullname, setFullname] = useState('');\n  const [email, setEmail] = useState('');\n  const [role, setRole] = useState('');\n\n  const contactsCollection = db.collection(\"contacts\");\n  useEffect(()=>{\n    contactsCollection.onSnapshot((snapshot)=>{\n      const contactsData = [];\n      snapshot.docs.map((doc)=>{\n        contactsData.push({\n          id: doc.id,\n          Name: doc.data().Name,\n          Email: doc.data().Email,\n          Role: doc.data().Role\n        })\n      })\n      setContacts(contactsData)\n    })\n  },[])\n\n\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    // iterate through the checkedState array and looked for the checked indices and then get the id of those items and then deleteDoc\n\n    contacts.forEach((el)=>{\n      if(document.getElementById(el.Name).checked==true){\n        console.log(el.id);\n        deleteDoc(doc(db,\"contacts\",el.id));\n      }\n      \n    })\n\n    // checkedState.forEach((state,index)=>{\n    //   console.log(state)\n    //   if(state==true){\n    //     const contactIDToBeDeleted = contacts[index].id;\n    //     deleteDoc(doc(db,\"contacts\",contactIDToBeDeleted));\n        \n    //   }\n    // })\n  }\n\n  return (\n    <Body>\n     <Background>\n     <Heading>Add Contact </Heading>\n        <FormElements>\n          <label>\n            Name: <input type='text' value={fullname} onChange={(e)=>{setFullname(e.target.value)}}/>\n          </label>\n          <label>\n            Email: <input type='text' value={email} onChange={(e)=>setEmail(e.target.value)}/>\n          </label>\n          <label>\n            Role: <input type='text' value={role} onChange={(e)=>setRole(e.target.value)}/>\n          </label>\n          <SubmitButton type=\"submit\" value=\"Submit\" onClick={(e) => {\n              e.preventDefault();\n             if((fullname!='')&&(email!='')&&(role!='')) {\n              addDoc(collection(db, \"contacts\"), {\n                Name: fullname,\n                Email: email,\n                Role: role\n              });\n             }\n              \n            }}>Submit</SubmitButton>\n        </FormElements>\n     </Background>\n       \n        \n\n    \n\n    <Background><Heading>Delete Contact(s)</Heading>\n      <DeleteContactsDiv>\n      <ul style={{'listStyle':'none'}}>\n      {contacts.map((item, index)=>{\n        \n          return(\n            <li key={index}>\n              \n              <label><input id={item.Name} type=\"checkbox\" name={item.Name} value={item.Name}/>{item.Name}</label>\n            </li>\n\n          )\n        })}\n      </ul>\n      <SubmitButton type=\"submit\" value=\"Submit\" onClick={(e)=>handleOnSubmit(e)}>Submit</SubmitButton>\n    \n      </DeleteContactsDiv></Background>\n      \n      \n      \n\n    \n    </Body>\n    \n  )\n}\n\nexport default UpdateContactForm"]},"metadata":{},"sourceType":"module"}